# -MD-
一个功能强大的Python脚本，用于批量清洗和标准化Markdown文件，特别适合处理从不同来源获取的杂乱Markdown文档。A powerful Python script for batch cleaning and standardizing Markdown files, particularly suitable for processing messy Markdown documents obtained from various sources.
# Markdown文件批量清洗工具 / Markdown Batch Cleaner

[中文](#中文) | [English](#english)

---

## 中文

### 简介
一个功能强大的Python脚本，用于批量清洗和标准化Markdown文件，特别适合处理从不同来源获取的杂乱Markdown文档。

### 功能特性

#### 核心清洗功能
- **图片链接清理** - 自动删除Markdown中的图片引用 `![](images/xxx.jpg)`
- **空行优化** - 移除多余空行，保持文档结构清晰
- **标题标准化** - 统一标题格式，修复不规范的`#`号使用
- **表格格式化** - 自动对齐表格内容，提升可读性
- **代码块标准化** - 统一代码块标记格式
- **URL修复** - 清理链接中的多余空格
- **编码修复** - 自动检测并修复中文编码问题（GBK/UTF-8）

#### 实用特性
- **批量处理** - 支持单个文件或整个目录递归处理
- **安全备份** - 自动创建`.bak`备份文件，防止数据丢失
- **灵活配置** - 支持命令行参数调节清洗严格度
- **详细日志** - 提供处理进度和详细操作记录

### 安装和使用

#### 环境要求
- Python 3.6+
- 无需额外依赖（基础版本）

#### 基本使用
```bash
# 清洗单个文件
python md_cleaner.py "document.md"

# 清洗整个目录
python md_cleaner.py "/path/to/markdown/files"

# 清洗当前目录
python md_cleaner.py "."
```

#### 高级选项
```bash
# 详细模式（推荐）
python md_cleaner.py "." --verbose

# 不创建备份
python md_cleaner.py "." --no-backup

# 保留图片链接
python md_cleaner.py "." --no-remove-images

# 不格式化表格
python md_cleaner.py "." --no-format-tables

# 移除特殊字符
python md_cleaner.py "." --remove-special-chars
```

### 使用场景

#### 适合处理
- 📚 电子书转换的Markdown文件
- 🔍 网络爬虫抓取的文档
- 📄 OCR识别后的文本
- 💾 不同编辑器生成的混合格式
- 🗂 多人协作的风格不一致文档

### 配置说明
脚本支持以下可调节参数：
- `--no-backup` - 禁用备份
- `--no-remove-images` - 保留图片链接  
- `--no-format-tables` - 禁用表格格式化
- `--remove-special-chars` - 移除特殊字符
- `--verbose` - 详细输出模式

---

## English

### Introduction
A powerful Python script for batch cleaning and standardizing Markdown files, particularly suitable for processing messy Markdown documents obtained from various sources.

### Features

#### Core Cleaning Functions
- **Image Link Cleaning** - Automatically removes image references like `![](images/xxx.jpg)`
- **Empty Line Optimization** - Removes excessive blank lines while maintaining document structure
- **Heading Standardization** - Normalizes heading formats and fixes improper `#` usage
- **Table Formatting** - Automatically aligns table content for better readability
- **Code Block Standardization** - Uniform code block markup formatting
- **URL Fixing** - Cleans up extra spaces in links
- **Encoding Repair** - Automatically detects and fixes Chinese encoding issues (GBK/UTF-8)

#### Practical Features
- **Batch Processing** - Supports single files or recursive directory processing
- **Safe Backup** - Automatically creates `.bak` backup files to prevent data loss
- **Flexible Configuration** - Command-line parameters to adjust cleaning strictness
- **Detailed Logging** - Provides processing progress and detailed operation records

### Installation & Usage

#### Requirements
- Python 3.6+
- No additional dependencies required (basic version)

#### Basic Usage
```bash
# Clean single file
python md_cleaner.py "document.md"

# Clean entire directory
python md_cleaner.py "/path/to/markdown/files"

# Clean current directory
python md_cleaner.py "."
```

#### Advanced Options
```bash
# Verbose mode (recommended)
python md_cleaner.py "." --verbose

# No backup creation
python md_cleaner.py "." --no-backup

# Keep image links
python md_cleaner.py "." --no-remove-images

# Disable table formatting
python md_cleaner.py "." --no-format-tables

# Remove special characters
python md_cleaner.py "." --remove-special-chars
```

### Use Cases

#### Ideal for Processing
- 📚 Markdown files converted from e-books
- 🔍 Documents scraped by web crawlers
- 📄 Text from OCR recognition
- 💾 Mixed formats generated by different editors
- 🗂 Inconsistent style documents from collaborative work

### Configuration
The script supports the following adjustable parameters:
- `--no-backup` - Disable backup
- `--no-remove-images` - Keep image links
- `--no-format-tables` - Disable table formatting
- `--remove-special-chars` - Remove special characters
- `--verbose` - Verbose output mode

---

## License
MIT License

## Tags
```
markdown, text-processing, automation, python, data-cleaning, 
batch-processing, document-processing, formatting-tool
```
